<!DOCTYPE html>

<html>
    <head>
        <title>Welcome to YABE</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("bootstrap/css/bootstrap.min.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <style>
            body {
                padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
            }
        </style>
    </head>
    <body>

        <!--- Navigation --->
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="#">YABE!</a>
                    <div class="nav-collapse">
                        <ul class="nav">
                            <li class="active"><a href="#">Home</a></li>
                            <li><a href="#about">About</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>
        <!--- End navigation --->

        <!--- Page body --->
        <div id="page-container" class="container-fluid">
            <div class="row-fluid">
                <div id="sidebar" class="span3">
                    <div class="well sidebar-nav">

                    </div>
                </div>
                <div id="main-content" class="span9">

                    <div id="posts">
                        <h1>Welcome to Yet Another Blog Engine!</h1>
                             <button id="newPostBtn" type="button" class="btn btn-success">
                                 New Post
                             </button>
                    </div>
                </div>
            </div>
        </div>
        <!--- End page body --->

        <!--- Templates --->
        <script type="text/template" id="sidebar-template">
            <h2 class="nav-header">Add a new category</h2>
            <input type="text" id="categoryName" placeholder="Type category name..."/>
            <button type="button" id="addCategory" style="display: none;" class="btn btn-primary">
                Add
            </button>

            <h2 class="nav-header">List of categories:</h2>

            <ul class="nav nav-list">
                <% _.each( categories, function( category ){ %>
                <li><a href="#category/<%=category.name%>">
                <%- category.name %>
                </a></li>
                <% }); %>
            </ul>
        </script>

        <script type="text/template" id="post-item-template">
            <div class="post">
                <a href="#post/<%= title %>" id="post"><h2><%= title %></h2></a>
                <%= datePosted %> <br>
                <%= content %> <br>
                <%= author.email %> <br>
                <%= category.name %> <br>
                <br>
                <%= tags %><br>
                <button type="button" class="btn">
                    Edit
                </button>
                <button type="button" class="btn btn-danger">
                    Delete
                </button>
            </div>
        </script>

        <script type="text/template" id="post-template">
            <div class="form-left-col">
                <label>Title:</label>
                <input type="text" id="title" name="title" value="<%= post.title %>" required />

                <label>Date posted:</label>
                <input type="text" id="datePosted" name="datePosted" value="<%= post.datePosted %>" required/>

                <label>Author:</label>
                <select id="author" name="author" required>
                    <option value="">--select a author--</option>
                    <% _(users).each(function(user) { %>
                    <option value="<%= user.name %>"><%= user.email %></option>
                    <% }); %>
                </select>

                <label>Category:</label>
                <select id="category" name="category" required>
                    <option value="">--select a category--</option>
                    <% _(categories).each(function(category) { %>
                    <option value="<%= category.name %>"><%= category.name %></option>
                    <% }); %>
                </select>

                <label>Tags:</label>
                <input type="text" id="tags" name="tags"  value="<%= post.tags %>"/>

                <button class="save">Save</button>
                <button class="delete">Delete</button>
            </div>

            <div class="form-right-col">
                <label>Content:</label>
                <textarea id="content" name="content"><%= post.content %></textarea>
            </div>
        </script>
        <!--- End Templates --->

        <!--- Imported at the bottom of the page so loading goes faster in browser -->
        <script src="@routes.Assets.at("javascripts/lib/jquery-1.7.1.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/lib/underscore-1.4.2-dev.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/lib/backbone-0.9.2-dev.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/models/categorymodel.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/models/postmodel.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/models/usermodel.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/views/post.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/views/postlist.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/views/categories.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/app.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("bootstrap/js/bootstrap.min.js")" type="text/javascript"></script>
    </body>
</html>
